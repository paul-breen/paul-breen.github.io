(function(d){var c="background",b="0.4";var a={grid:{background:{active:false,mode:"color",color:{colors:["white","yellow","orange","blue"]},image:null,fncDraw:null,setZIndex:false},overlay:{active:false,image:null,opacity:0.2}}};function f(p,m){var k,g,o,i,n;var u,q,r,t;k=m.Canvas;p.hooks.processOptions.push(v);function v(y,x){if(x.grid.background.active===true){i=x;y.hooks.drawBackground.push(l);if(x.grid.overlay.active===true){y.hooks.draw.push(s)}}}function l(y,x){i=y.getOptions();t=x;var z=i.grid.background.setZIndex;g=new k("flot-background",y.getPlaceholder());if(d.isNumeric(z)===true){d(y.getPlaceholder().children(".flot-overlay")).css("z-index",z+1);d(y.getCanvas()).css("z-index",z);d(g.element).css("z-index",z-1)}else{if(i.grid.background.setZIndex===true){d(y.getPlaceholder().children(".flot-overlay")).css("z-index",2);d(y.getCanvas()).css("z-index",1);d(g.element).css("z-index",0)}else{d(g.element).css("z-index",-1)}}o=g.context;n=y.getPlotOffset();o.save();o.translate(n.left,n.top);switch(i.grid.background.mode){case"image":h(y,o);break;case"color":j(y,o);break;case"userdefined":w(y,o);break;default:j(y,o)}o.restore()}function w(y,x){i.grid.background.fncDraw(y,x,y.width(),y.height())}function h(z,x){var y=i.grid.background.image;if(typeof y!=="undefined"){x.drawImage(y,0,0,z.width(),z.height())}}function j(z,y){var x=d.plot.JUMlib.data.getColor({ctx:y,color:i.grid.background.color,left:0,top:0,height:z.height(),width:z.width()});y.fillStyle=x;y.fillRect(0,0,z.width(),z.height())}function s(z,x){var y=i.grid.overlay.image;var A='<div style="position:absolute;width:'+z.width()+";height:"+z.height()+";top:"+n.top+";left:"+n.left+';">';A=d(A);d(y).css("opacity",i.grid.overlay.opacity).width(z.width()).height(z.height());d(y).css("top",n.top).css("position","absolute").css("left",n.left);d(y).appendTo(A);A.appendTo(z.getPlaceholder())}}var e=d.plot.JUMlib.data.getColor;d.plot.plugins.push({init:f,options:a,name:c,version:b})})(jQuery);